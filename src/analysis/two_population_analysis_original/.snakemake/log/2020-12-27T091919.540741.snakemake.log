Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 1 (use --cores to define parallelism)
Rules claiming more threads will be scaled down.
Job counts:
	count	jobs
	1	all
	1	compound_smcpp
	9	fit_dadi_model_to_msprime_sfs
	1	fsc_setup
	1	get_best_dadi_fsc_runs
	1	get_dadi_fsc_output
	1	plot_estimates
	1	run_fsc
	1	run_smcpp
	1	smcpp_plot
	1	ts_to_smc
	19
Select jobs to execute...

[Sun Dec 27 09:19:23 2020]
rule fit_dadi_model_to_msprime_sfs:
    input: ex1/Intermediate/1845187043/chr22_dadi_joint_sfs.fs
    output: ex1/Intermediate/1845187043/dadi_analysis/IM_fsc/model_fit_2285257250.pdf, ex1/Intermediate/1845187043/dadi_analysis/IM_fsc/model_params_2285257250.txt
    jobid: 15
    wildcards: seeds=1845187043, demo_models=IM_fsc, fit_seeds=2285257250

[Sun Dec 27 09:44:46 2020]
Finished job 15.
1 of 19 steps (5%) done
Select jobs to execute...

[Sun Dec 27 09:44:46 2020]
rule fit_dadi_model_to_msprime_sfs:
    input: ex1/Intermediate/1845187043/chr22_dadi_joint_sfs.fs
    output: ex1/Intermediate/1845187043/dadi_analysis/IM_fsc/model_fit_561383553.pdf, ex1/Intermediate/1845187043/dadi_analysis/IM_fsc/model_params_561383553.txt
    jobid: 9
    wildcards: seeds=1845187043, demo_models=IM_fsc, fit_seeds=561383553

[Sun Dec 27 10:09:21 2020]
Finished job 9.
2 of 19 steps (11%) done
Select jobs to execute...

[Sun Dec 27 10:09:21 2020]
rule fit_dadi_model_to_msprime_sfs:
    input: ex1/Intermediate/1845187043/chr22_dadi_joint_sfs.fs
    output: ex1/Intermediate/1845187043/dadi_analysis/IM_fsc/model_fit_878579710.pdf, ex1/Intermediate/1845187043/dadi_analysis/IM_fsc/model_params_878579710.txt
    jobid: 12
    wildcards: seeds=1845187043, demo_models=IM_fsc, fit_seeds=878579710

[Sun Dec 27 10:21:07 2020]
Finished job 12.
3 of 19 steps (16%) done
Select jobs to execute...

[Sun Dec 27 10:21:07 2020]
rule fit_dadi_model_to_msprime_sfs:
    input: ex1/Intermediate/1845187043/chr22_dadi_joint_sfs.fs
    output: ex1/Intermediate/1845187043/dadi_analysis/IM_fsc/model_fit_789925284.pdf, ex1/Intermediate/1845187043/dadi_analysis/IM_fsc/model_params_789925284.txt
    jobid: 10
    wildcards: seeds=1845187043, demo_models=IM_fsc, fit_seeds=789925284

[Sun Dec 27 10:22:41 2020]
Finished job 10.
4 of 19 steps (21%) done
Select jobs to execute...

[Sun Dec 27 10:22:41 2020]
rule ts_to_smc:
    input: ex1/Intermediate/1845187043/chr22.trees
    output: ex1/Intermediate/1845187043/chr22.treespop1.smc.gz, ex1/Intermediate/1845187043/chr22.treespop2.smc.gz
    jobid: 22
    wildcards: seeds=1845187043, chrms=chr22

[Sun Dec 27 10:23:47 2020]
Finished job 22.
5 of 19 steps (26%) done
Select jobs to execute...

[Sun Dec 27 10:23:47 2020]
rule run_smcpp:
    input: ex1/Intermediate/1845187043/chr22.treespop1.smc.gz, ex1/Intermediate/1845187043/chr22.treespop2.smc.gz
    output: ex1/Intermediate/1845187043/model.final.pop1.json, ex1/Intermediate/1845187043/model.final.pop2.json
    jobid: 21
    wildcards: seeds=1845187043

[Sun Dec 27 10:37:03 2020]
Finished job 21.
6 of 19 steps (32%) done
Select jobs to execute...

[Sun Dec 27 10:37:03 2020]
rule fit_dadi_model_to_msprime_sfs:
    input: ex1/Intermediate/1845187043/chr22_dadi_joint_sfs.fs
    output: ex1/Intermediate/1845187043/dadi_analysis/IM_fsc/model_fit_1358822685.pdf, ex1/Intermediate/1845187043/dadi_analysis/IM_fsc/model_params_1358822685.txt
    jobid: 8
    wildcards: seeds=1845187043, demo_models=IM_fsc, fit_seeds=1358822685

[Sun Dec 27 10:41:06 2020]
Finished job 8.
7 of 19 steps (37%) done
Select jobs to execute...

[Sun Dec 27 10:41:06 2020]
rule smcpp_plot:
    input: ex1/Intermediate/1845187043/model.final.pop1.json, ex1/Intermediate/1845187043/model.final.pop2.json
    output: ex1/Intermediate/1845187043/trees.smc.gz.final.json.csv, ex1/Intermediate/1845187043/split/model.final.json, ex1/Intermediate/1845187043/split/joint.csv
    jobid: 20
    wildcards: seeds=1845187043

[Sun Dec 27 10:42:05 2020]
Finished job 20.
8 of 19 steps (42%) done
Select jobs to execute...

[Sun Dec 27 10:42:05 2020]
rule compound_smcpp:
    input: ex1/Intermediate/1845187043/split/model.final.json
    output: ex1/Results/smcpp_estimated_Ne.png
    jobid: 23

[Sun Dec 27 10:42:12 2020]
Finished job 23.
9 of 19 steps (47%) done
Select jobs to execute...

[Sun Dec 27 10:42:12 2020]
rule fsc_setup:
    input: ex1/Intermediate/1845187043/fsc_analysis/IM_hum_jointDAFpop1_0.obs
    output: ex1/Intermediate/1845187043/fsc_analysis/IM_hum.est, ex1/Intermediate/1845187043/fsc_analysis/IM_hum.tpl
    jobid: 18
    wildcards: seeds=1845187043, demo_model=IM_hum

[Sun Dec 27 10:42:12 2020]
Error in rule fsc_setup:
    jobid: 18
    output: ex1/Intermediate/1845187043/fsc_analysis/IM_hum.est, ex1/Intermediate/1845187043/fsc_analysis/IM_hum.tpl
    shell:
        cp fsc_files/IM_hum.est ex1/Intermediate/1845187043/fsc_analysis/IM_hum.est &&             cp fsc_files/IM_hum.tpl ex1/Intermediate/1845187043/fsc_analysis/IM_hum.tpl &&             sed -i.bak 's/SAMPLE_SIZE/20/' ex1/Intermediate/1845187043/fsc_analysis/IM_hum.tpl && rm ex1/Intermediate/1845187043/fsc_analysis/IM_hum.tpl.bak &&            cd fsc26/ && chmod +x fsc26
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /code/src/analysis/two_population_analysis old/.snakemake/log/2020-12-27T091919.540741.snakemake.log
